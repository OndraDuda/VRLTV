<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VRL - Velocity Racing League - Season 2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="vrl_high_res.png" alt="F1 VRL Logo" class="logo-img">
                </div>
                <div class="header-controls">
                    <button class="theme-switch" id="themeSwitch">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
                <nav id="mobileNav">
                    <ul>
                        <li><a href="index.html">Domů</a></li>
                        <li><a href="calendar.html">Kalendář</a></li>
                        <li><a href="jezdci.html">Jezdci</a></li>
                        <li><a href="tymy.html">Týmy</a></li>
                        <li><a href="okruh.html">Okruhy</a></li>
                        <li><a href="vysledky.html">Výsledky</a></li>
                        <li><a href="prihlasky.html">Přihlášení</a></li>
                        <li><a href="https://discord.gg/CMxscEUcRd" class="discord-btn"><i class="fab fa-discord"></i> Discord</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-fade"></div>
        <div class="container">
            <div class="hero-content">
                <h2>Velocity Racing League</h2> 
                <p>Druhá sezóna VRL ligy právě začala! Připoj se k naší virtuální motorsportové soutěži.</p>
                <div>
                    <a href="https://discord.gg/CMxscEUcRd" class="btn"><i class="fab fa-discord"></i> Připojit se na Discord</a>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <section class="season-info">
            <h2>SEZÓNA 2 - DŮLEŽITÉ INFORMACE</h2>
            <p>Druhá sezóna VRL ligy přináší nové okruhy a ještě více napětí!</p>
            <div class="season-details">
                <div class="detail-card">
                    <h3><i class="fas fa-calendar-alt"></i> Formát</h3>
                    <p>20 závodů<br>2 části sezóny</p>
                </div>
                
                <div class="detail-card">
                    <h3><i class="fas fa-trophy"></i> Bodování</h3>
                    <p>25-18-15-12-10-8-6-4-2-1</p>
                </div>
                
                <div class="detail-card">
                    <h3><i class="fas fa-gamepad"></i> Platforma</h3>
                    <p>F1 2025<br> PC Steam/EA<br>PS/Xbox</p>
                </div>
            </div>
        </section>

        <h2 class="section-title">Nadcházející závody</h2>
        <section class="calendar" id="calendar"></section>

        <a href="calendar.html" class="btn">Zobrazit celý kalendář</a>


        <h2 class="section-title">PRŮBĚŽNÉ POŘADÍ</h2>
        <div class="standings-container">
            <section class="standings">
                <div class="standings-card">
                    <div class="standings-header">
                        <h3>Jezdci</h3>
                    </div>
                    <div class="standings-body">
                        <div class="driver-row">
                            <div class="driver-name">M. Heligr</div>
                            <div class="driver-points">40 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">J. Kubeš</div>
                            <div class="driver-points">37 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">M. Klaboch</div>
                            <div class="driver-points">36 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">O. Maťko</div>
                            <div class="driver-points">20 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">M. Vaculík</div>
                            <div class="driver-points">17 bodů</div>
                        </div>
                    </div>
                </div>
                
                <div class="standings-card">
                    <div class="standings-header">
                        <h3>Týmy</h3>
                    </div>
                    <div class="standings-body">
                        <div class="driver-row">
                            <div class="driver-name">McLaren</div>
                            <div class="driver-points">57 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">Ferrari</div>
                            <div class="driver-points">51 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">Mercedes</div>
                            <div class="driver-points">36 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">Aston Martin</div>
                            <div class="driver-points">26 bodů</div>
                        </div>
                        <div class="driver-row">
                            <div class="driver-name">Williams</div>
                            <div class="driver-points">12 bodů</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>VRL Liga</h3>
                    <p>Virtuální závodní liga pro nadšence Formule 1. Připoj se k nám a zažij motorsport z pohodlí domova.</p>
                    <div class="social-icons">
                        <a href="https://www.instagram.com/vrl_velocityracingleague/"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.youtube.com/@Velocity_Racing_League_VRL"><i class="fab fa-youtube"></i></a>
                        <a href="https://discord.gg/CMxscEUcRd"><i class="fab fa-discord"></i></a>
                        <a href="https://www.tiktok.com/@velocity_racingleague" target="_blank"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Navigace</h3>
                    <ul>
                        <li><a href="index.html">Domů</a></li>
                        <li><a href="calendar.html">Kalendář</a></li>
                        <li><a href="jezdci.html">Jezdci</a></li>
                        <li><a href="tymy.html">Týmy</a></li>
                        <li><a href="okruh.html">Okruhy</a></li>
                        <li><a href="vysledky.html">Výsledky</a></li>
                        <li><a href="prihlasky.html">Přihlášení</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Organizátoři</h3>
                    <ul>
                        <li><a href="https://www.instagram.com/matyaasko/">Matěj Vaculík</a></li>
                        <li><a href="https://www.instagram.com/beeeeuuuuu/">Maxim Heligr</a></li>
                        <li><a href="https://www.instagram.com/_.duda.o._/">Ondra Duda</a></li>
                        <li><a href="https://www.instagram.com/klabochmartin?igsh=Ym1pN29hNTFmbjBx&utm_source=qr">Martin Klaboch</a></li>
                        <li><a href="https://www.instagram.com/olinkkt/">Oliver Seidl</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 VRL Liga. Všechna práva vyhrazena.</p>
            </div>
        </div>
    </footer>

    <script src="js/global.js"></script>
    <script>

        // Data závodů (ponecháš jak máš)
        const races = [
        { round: "R1", name: "AUSTRALIE", date: "2025-09-09", track: "Melbourne Grand Prix Circuit" },
        { round: "R2", name: "Velká Británie", date: "2025-09-16", track: "Silverstone Circuit" },
        { round: "R3", name: "Bahrain", date: "2025-09-30", track: "Bahrain International Circuit" },
        { round: "R4", name: "Miami", date: "2025-10-07", track: "Miami International Autodrome" },
        { round: "R5", name: "Imola", date: "2025-10-14", track: "Autodromo Enzo e Dino Ferrari" },
        
        { round: "R6", name: "Japonsko", date: "2025-11-4", track: "Suzuka International Racing Course" },
        { round: "R7", name: "Kanada", date: "2025-11-11", track: "Circuit Gilles Villeneuve" },
        { round: "R8", name: "Singapur", date: "2025-11-18", track: "Marina Bay Street Circuit" },
        { round: "R9", name: "Belgie", date: "2025-12-2", track: "Circuit de Spa-Francorchamps" },
        { round: "R10", name: "Španělsko", date: "2025-12-16", track: "Circuit de Barcelona-Catalunya" },
        
        { round: "R11", name: "Mexiko", date: "2026-1-6", track: "Autódromo Hermanos Rodríguez" },
        { round: "R12", name: "Brazílie", date: "2026-1-20", track: "Autódromo José Carlos Pace" },
        { round: "R13", name: "USA", date: "2026-2-3", track: "Circuit of the Americas" },
            
        { round: "R14", name: "Rakousko", date: "2026-2-17", track: "Red Bull Ring" },
        { round: "R15", name: "Monako", date: "3.3.2026-3-3", track: "Circuit de Monaco" },
        { round: "R16", name: "Itálie", date: "2026-3-10", track: "Autodromo Nazionale Monza" },
        { round: "R17", name: "Maďarsko", date: "2026-3-24", track: "Hungaroring" },
            
        { round: "R18", name: "Katar", date: "2026-4-7", track: "Losail International Circuit" },
        { round: "R19", name: "Saudská Arábie", date: "2026-4-21", track: "Jeddah Corniche Circuit" },
        { round: "R20", name: "Abu Dhabi", date: "2026-4-28", track: "Yas Marina Circuit" }
        ];

       // Funkce pro vypsání závodů (limit je volitelný)
    function populateCalendar(containerId, limit = null) {
        const calendar = document.getElementById(containerId);
        calendar.innerHTML = '';

        const today = new Date();

        // Převedeme string datum → objekt Date a nastavíme "cutoff" půlnoc dalšího dne
        const upcoming = races
            .map(r => {
                const dateObj = new Date(r.date);

                // cutoff = půlnoc následujícího dne
                const cutoff = new Date(dateObj);
                cutoff.setDate(cutoff.getDate() + 1);
                cutoff.setHours(0, 0, 0, 0);

                return { ...r, dateObj, cutoff };
            })
            // závod zůstává do půlnoci po svém datu
            .filter(r => r.cutoff > today)
            .sort((a, b) => a.dateObj - b.dateObj);

        // Omezíme na 5 (pokud limit je nastaven)
        const toShow = limit ? upcoming.slice(0, limit) : upcoming;

        // Vykreslení závodů
        toShow.forEach(race => {
            const raceCard = document.createElement('div');
            raceCard.className = 'race-card';

        raceCard.innerHTML = `
            <div class="race-date">
                <div class="race-round">${race.round}</div>
                <strong>${race.dateObj.toLocaleDateString("cs-CZ")}</strong>
            </div>
            <div class="race-info">
                <h3>${race.name}</h3>
                <p class="race-track">${race.track}</p>
                <p>19:00 | Krátká kvalifikace | 50 % délky</p>
            </div>
        `;

        calendar.appendChild(raceCard);
    });
}

    // === Automatické obnovení o půlnoci ===
    function scheduleMidnightRefresh(containerId, limit = null) {
        const now = new Date();
        const midnight = new Date();

        midnight.setHours(24, 0, 0, 0); // dnešní půlnoc

        const msToMidnight = midnight.getTime() - now.getTime();

        setTimeout(() => {
            populateCalendar(containerId, limit);     // obnoví seznam
            scheduleMidnightRefresh(containerId, limit); // naplánuje další refresh
        }, msToMidnight);
    }

    // Spuštění při načtení stránky
    document.addEventListener("DOMContentLoaded", () => {
        populateCalendar("calendar", 5);         // inicializace (změň "calendar" na ID tvého kontejneru)
        scheduleMidnightRefresh("calendar", 5);  // automatické obnovování
    });


        // Inicializace
        document.addEventListener('DOMContentLoaded', () => {
            // hlavní stránka → jen 5 nadcházejících
            populateCalendar('calendar', 5);
        });


        // Inicializace při načtení stránky
        document.addEventListener('DOMContentLoaded', () => {
            populateCalendar();
        });

        let lastScrollTop = 0;
        const header = document.querySelector('header');

        window.addEventListener('scroll', () => {
            const st = window.pageYOffset || document.documentElement.scrollTop;

            if (window.innerWidth <= 768) { // pouze mobil
                if (st > lastScrollTop) {
                    // scroll dolů → schovej header
                    header.style.top = "-120px";
                } else {
                    // scroll nahoru → ukaž header
                    header.style.top = "0";
                }
            }

            lastScrollTop = st <= 0 ? 0 : st;
        });
    </script>
</body>

</html>



