<!DOCTYPE html>
<html lang="cs">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VRL - Přihlášky</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- HEADER -->
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <img src="vrl_high_res.png" alt="F1 VRL Logo" class="logo-img">
        </div>
        <div class="header-controls">
          <button class="theme-switch" id="themeSwitch">
            <i class="fas fa-moon"></i>
          </button>
          <button class="mobile-menu-toggle" id="mobileMenuToggle">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <nav id="mobileNav">
          <ul>
            <li><a href="index.html">Domů</a></li>
            <li><a href="calendar.html">Kalendář</a></li>
            <li><a href="jezdci.html">Jezdci</a></li>
            <li><a href="tymy.html">Týmy</a></li>
            <li><a href="okruh.html">Okruhy</a></li>
            <li><a href="vysledky.html">Výsledky</a></li>
            <li><a href="prihlasky.html">Příhlášky</a></li>
            <li><a href="https://discord.gg/CMxscEUcRd" class="discord-btn"><i class="fab fa-discord"></i> Discord</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-fade"></div>
    <div class="hero-content">
      <h2>Přihlaš se do VRL</h2>
      <p>Vyplň formulář a staň se součástí naší ligy nebo organizačního týmu.</p>
    </div>
  </section>

  <!-- OBSAH -->
  <main class="container">
    <h2 class="section-title">Přihláška</h2>

    <div class="form-card">
      <form id="mainForm">

        <!-- Výběr typu přihlášky -->
        <label for="formType">Vyber typ přihlášky</label>
        <select id="formType" name="formType" required>
          <option value="">-- Vyber --</option>
          <option value="jezdec">Jezdec VRL</option>
          <option value="fia">FIA</option>
          <option value="komentator">Komentátor</option>
          <option value="grafik">Grafik</option>
          <option value="strihac">Střihač</option>
        </select>

        <!-- Formulář pro jezdce -->
        <div class="form-section" id="jezdecForm">
          <h3>Formulář pro jezdce</h3>
          <label for="discord">Discord Nick</label>
          <input type="text" id="discord" name="discord" placeholder="např. Racer">

          <label for="realname">Reálné Jméno</label>
          <input type="text" id="realname" name="realname" placeholder="např. Jan Novák">

          <label for="gamename">Jméno ve Hře</label>
          <input type="text" id="gamename" name="gamename" placeholder="např. VRL_Jenda">

          <label for="eanick">EA Nick</label>
          <input type="text" id="eanick" name="eanick" placeholder="např. JendaEA">

          <label for="platform">Platforma</label>
          <select id="platform" name="platform">
            <option value="">Vyber platformu</option>
            <option value="PC Steam">PC Steam</option>
            <option value="PC EA">PC EA</option>
            <option value="XBOX">XBOX</option>
            <option value="PS">PS</option>
          </select>

          <label for="assisty">Používáš assisty? Pokud ano, které</label>
          <input type="text" id="assisty" name="assisty" placeholder="např. Traction Control, ABS, Driving Line">

          <label for="vrlzkusenosti">Zkušenosti z VRL</label>
          <textarea id="vrlzkusenosti" name="vrlzkusenosti" placeholder="Tier 2, 5. místo v sezóně 1"></textarea>

          <label for="jineLigy">Zkušenosti z jiných lig</label>
          <textarea id="jineLigy" name="jineLigy" placeholder="Jezdil jsem ve F1 Czech League, Tier 3"></textarea>

          <label for="kliklet">Od jakého roku jezdíš</label>
          <input type="text" id="kliklet" name="kliklet" placeholder="např. 2019">

          <label for="procVRL">Proč chceš jezdit ve VRL?</label>
          <textarea id="procVRL" name="procVRL"
            placeholder="Chci jezdit v přátelské komunitě a zlepšovat se."></textarea>

          <label for="ttSPA">Čas v TT na SPA a v kolika procentech</label>
          <input type="text" id="ttSPA" name="ttSPA" placeholder="např. 1:32.456 , 2%">

          <label for="ttAustralia">Čas v TT v Austrálii a v kolika procentech</label>
          <input type="text" id="ttAustralia" name="ttAustralia" placeholder="např. 1:22.789, 3%">

          <label for="ttImola">Čas v TT na Imole a v kolika procentech</label>
          <input type="text" id="ttImola" name="ttImola" placeholder="např. 1:14.321, 5%">

          <label for="cislo">Vyber 3 preferovaná čísla (Seřadit)</label>
          <input type="text" id="cislo" name="cislo" placeholder="např. 28, 69, 87">
        </div>

        <!-- Formulář pro FIA -->
        <div class="form-section" id="fiaForm">
          <h3>Formulář pro FIA</h3>
          <label for="discordFIA">Discord Nick</label>
          <input type="text" id="discordFIA" name="discordFIA" placeholder="např. Admin">

          <label for="realnameFIA">Reálné Jméno</label>
          <input type="text" id="realnameFIA" name="realnameFIA" placeholder="např. Petr Novotný">

          <label for="zkusenostiFIA">Zkušenosti s FIA / adminováním</label>
          <textarea id="zkusenostiFIA" name="zkusenostiFIA"
            placeholder="Dělal jsem FIA v jiné lize 2 sezóny."></textarea>

          <label for="procFIA">Proč chceš být FIA?</label>
          <textarea id="procFIA" name="procFIA" placeholder="Chci pomoci se spravedlivým průběhem závodů."></textarea>
        </div>

        <!-- Formulář pro komentátora -->
        <div class="form-section" id="komentatorForm">
          <h3>Formulář pro komentátora</h3>
          <label for="discordKom">Discord Nick</label>
          <input type="text" id="discordKom" name="discordKom" placeholder="např. VoiceGuy">

          <label for="realnameKom">Reálné Jméno</label>
          <input type="text" id="realnameKom" name="realnameKom" placeholder="např. Lukáš Svoboda">

          <label for="zkusenostiKom">Zkušenosti s komentováním</label>
          <textarea id="zkusenostiKom" name="zkusenostiKom" placeholder="Komentuji esport závody už 1 rok."></textarea>

          <label for="procKom">Proč chceš komentovat?</label>
          <textarea id="procKom" name="procKom"
            placeholder="Miluji motorsport a chci dělat závody zajímavé pro diváky."></textarea>
        </div>

        <!-- Formulář pro grafika -->
        <div class="form-section" id="grafikForm">
          <h3>Formulář pro grafika</h3>
          <label for="discordGraf">Discord Nick</label>
          <input type="text" id="discordGraf" name="discordGraf" placeholder="např. Designer">

          <label for="realnameGraf">Reálné Jméno</label>
          <input type="text" id="realnameGraf" name="realnameGraf" placeholder="např. Karel Dvořák">

          <label for="zkusenostiGraf">Zkušenosti s grafikou</label>
          <textarea id="zkusenostiGraf" name="zkusenostiGraf"
            placeholder="Dělám grafiku v Photoshopu a After Effects."></textarea>

          <label for="procGraf">Proč chceš být grafikem?</label>
          <textarea id="procGraf" name="procGraf" placeholder="Chci pomoci s vizuálem ligy."></textarea>
        </div>

        <!-- Formulář pro střihače -->
        <div class="form-section" id="strihacForm">
          <h3>Formulář pro střihače</h3>
          <label for="discordStrih">Discord Nick</label>
          <input type="text" id="discordStrih" name="discordStrih" placeholder="např. Editor">

          <label for="realnameStrih">Reálné Jméno</label>
          <input type="text" id="realnameStrih" name="realnameStrih" placeholder="např. Michal Horák">

          <label for="zkusenostiStrih">Zkušenosti se střihem videí</label>
          <textarea id="zkusenostiStrih" name="zkusenostiStrih"
            placeholder="Stříhám videa v Premiere Pro a DaVinci."></textarea>

          <label for="procStrih">Proč chceš být střihačem?</label>
          <textarea id="procStrih" name="procStrih"
            placeholder="Baví mě video tvorba a chci dělat sestřihy závodů."></textarea>
        </div>

        <button type="submit" class="btn">📧 Odeslat</button>
      </form>
    </div>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>VRL</h3>
          <p>Virtuální závodní liga pro nadšence Formule 1. Připoj se k nám a zažij motorsport z pohodlí domova.</p>
          <div class="social-icons">
            <a href="https://www.instagram.com/vrl_velocityracingleague/"><i class="fab fa-instagram"></i></a>
            <a href="https://www.youtube.com/@Velocity_Racing_League_VRL"><i class="fab fa-youtube"></i></a>
            <a href="https://discord.gg/CMxscEUcRd"><i class="fab fa-discord"></i></a>
            <a href="https://www.tiktok.com/@velocity_racingleague" target="_blank"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h3>Navigace</h3>
          <ul>
            <li><a href="index.html">Domů</a></li>
            <li><a href="calendar.html">Kalendář</a></li>
            <li><a href="jezdci.html">Jezdci</a></li>
            <li><a href="tymy.html">Týmy</a></li>
            <li><a href="okruh.html">Okruhy</a></li>
            <li><a href="vysledky.html">Výsledky</a></li>
            <li><a href="prihlasky.html">Příhlášky</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Organizátoři</h3>
          <ul>
            <li><a href="https://www.instagram.com/matyaasko/">Matěj Vaculík</a></li>
            <li><a href="https://www.instagram.com/beeeeuuuuu/">Maxim Heligr</a></li>
            <li><a href="https://www.instagram.com/_.duda.o._/">Ondra Duda</a></li>
            <li><a href="https://www.instagram.com/klabochmartin">Martin Klaboch</a></li>
            <li><a href="https://www.instagram.com/olinkkt/">Oliver Seidl</a></li>
          </ul>
        </div>
      </div>
      <div class="copyright">
        <p>&copy; 2025 VRL. Všechna práva vyhrazena.</p>
      </div>
    </div>
  </footer>

  <script src="js/global.js"></script>
  <script>
    const formType = document.getElementById('formType');
    const sections = document.querySelectorAll('.form-section');

    // skryj všechny sekce na začátku
    sections.forEach(s => s.style.display = 'none');

    formType.addEventListener('change', () => {
      sections.forEach(s => s.style.display = 'none');
      const selected = document.getElementById(formType.value + 'Form');
      if (selected) selected.style.display = 'block';
    });

    const form = document.getElementById('mainForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (!formType.value) {
        alert("Vyber typ přihlášky!");
        return;
      }

      // vyber aktivní sekci
      const active = document.querySelector(`#${formType.value}Form`);
      const inputs = active.querySelectorAll('input, textarea, select');

      // kontrola prázdných polí
      for (const input of inputs) {
        if (!input.value.trim()) {
          alert(`Pole "${input.previousElementSibling ? input.previousElementSibling.innerText : input.name}" nesmí být prázdné.`);
          input.focus();
          return;
        }
      }

      const roleID = "1330097683750191134";
      let content = `<@&${roleID}> Nová přihláška (${formType.value}):\n`;

      inputs.forEach(input => {
        content += `${input.previousElementSibling ? input.previousElementSibling.innerText : input.name}: ${input.value}\n`;
      });

      const data = { content };

      await fetch('https://discord.com/api/webhooks/1417205284618633297/4YivxIzOxprI2dLISpgKbinfOSvZf9W8Siv-u6PwpCYTBNhDTZ8Ojxq6Mgs1API95Gn6', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      alert('Přihláška byla odeslána!');
      form.reset();
      sections.forEach(s => s.style.display = 'none');
    });
  </script>

</body>

</html>
